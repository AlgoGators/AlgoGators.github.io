# Multi-Window Strategy

The previous sections cover the basic trend following strategy. We employ a multi-window strategy to improve the performance of our trend following strategy. The multi-window strategy uses multiple exponential moving averages (EMAs) to generate a single forecast. A benefit of using multiple windows is that it allows us to capture trends of different lengths. It also provides a level of diversification in our forecast generation process. The multi-window strategy is a simple yet effective way to improve the performance of our trend following strategy.

## Buffering

In order to lower our trading costs, we employ a buffering system. The buffering system is used to prevent overtrading. The buffering system works by only trading when the forecast is above a certain threshold. This threshold is a rounding of the forecast to the nearest integer. The scaled forecast is also capped at a maximum value of +/- 20. This variable, \\( \text{Capped Forecast} \\), is then used in conjunction with other windows to generate a final forecast. To find the raw combined forecast, we use the following formula:

\\[ \text{RCF}_{i,t} = \vec{w} \cdot \vec{f}^T \\]

Where \\( \text{RCF}_{i,t} \\) is the raw combined forecast, \\( \vec{w} \\) is the vector of weights of the windows, and \\( \vec{f} \\) is the vector of forecasts generated by the windows. From the raw combined forecast, we then scale it to be reflective of the diversification of the windows using the Forecast Diversification Multiplier (FDM). The FDM is calculated as follows:

\\[ \text{FDM} = \frac{1}{\sqrt{w \cdot \rho \cdot w^T}} \\]

Where \\(w\\) is the vector of weights of the windows and \\(\rho\\) is the correlation matrix of the windows. The final forecast is then given by:

\\[ \text{Scaled Combined Forecast} = \text{RCF}_{i,t} \times \text{FDM} \\]

The scaled combined forecast is then capped at a maximum value of +/- 20. Using the Capped Combined Forecast, we then use the same position sizing algorithm as in the previous section to determine the position size of the asset.


